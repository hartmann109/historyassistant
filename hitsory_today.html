<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­è¯æ°‘åœ‹å²äº‹æŸ¥è©¢ç³»çµ±</title>
    
    <!-- 1. è¼‰å…¥ Tailwind CSS (æ¨£å¼åº«) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. è¼‰å…¥ Babel (è®“ç€è¦½å™¨çœ‹ä¸æ‡‚çš„ JSX ç¨‹å¼ç¢¼å¯ä»¥åŸ·è¡Œ) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 3. è¨­å®šæ¨£å¼å¾®èª¿ -->
    <style>
        body { font-family: "Noto Sans TC", sans-serif; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- é€™æ˜¯ React æ‡‰ç”¨ç¨‹å¼æ›è¼‰çš„é€²å…¥é» -->
    <div id="root"></div>

    <!-- 4. ä¸»è¦ç¨‹å¼é‚è¼¯ (ä½¿ç”¨ type="text/babel" ä¸¦æŒ‡å®š module ä»¥æ”¯æ´ import) -->
    <script type="text/babel" data-type="module">
        // å¾ CDN è¼‰å…¥ React å’Œ Lucide åœ–ç¤ºåº«
        import React, { useState, useMemo, useEffect } from 'https://esm.sh/react@18.2.0';
        import { createRoot } from 'https://esm.sh/react-dom@18.2.0/client';
        import { Calendar, Search, Filter, FileText, Upload, X, Clock, Tag, BookOpen, RefreshCw, AlertCircle, Globe, RotateCcw } from 'https://esm.sh/lucide-react@0.292.0';

        // è³‡æ–™ä¾†æº URL
        const DATA_URL = "https://raw.githubusercontent.com/hartmann109/historyassistant/main/Taiwan_History_Final.csv";

        const HistoryApp = () => {
            // --- è³‡æ–™ç‹€æ…‹ ---
            const [events, setEvents] = useState([]);
            const [isDataLoaded, setIsDataLoaded] = useState(false);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);

            // --- æœå°‹æ¨¡å¼ç‹€æ…‹ ---
            const [searchMode, setSearchMode] = useState('onThisDay'); 
            
            // --- æ—¥æœŸç‹€æ…‹ ---
            const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);
            const [selectedDay, setSelectedDay] = useState(new Date().getDate());
            const [selectedYear, setSelectedYear] = useState(1945);

            // --- éæ¿¾æ¢ä»¶ç‹€æ…‹ ---
            const [inputCategory, setInputCategory] = useState('å…¨éƒ¨');
            const [inputKeyword, setInputKeyword] = useState('');

            // --- å¯¦éš›å¥—ç”¨çš„éæ¿¾æ¢ä»¶ ---
            const [appliedCategory, setAppliedCategory] = useState('å…¨éƒ¨');
            const [appliedKeyword, setAppliedKeyword] = useState('');

            // åˆå§‹åŒ–ï¼šè‡ªå‹•å¾ URL è¼‰å…¥è³‡æ–™
            useEffect(() => {
                fetchData();
            }, []);

            const fetchData = async () => {
                setLoading(true);
                setError(null);
                try {
                const response = await fetch(DATA_URL);
                if (!response.ok) {
                    throw new Error(`ç„¡æ³•é€£çµè³‡æ–™åº« (HTTP ${response.status})`);
                }
                
                // ä½¿ç”¨ ArrayBuffer èˆ‡ TextDecoder è™•ç† Big5 ç·¨ç¢¼
                const buffer = await response.arrayBuffer();
                const decoder = new TextDecoder('big5');
                const text = decoder.decode(buffer);
                
                const parsed = parseCSV(text);
                processData(parsed);
                setIsDataLoaded(true);
                } catch (err) {
                console.error("è³‡æ–™è¼‰å…¥å¤±æ•—:", err);
                setError(err.message);
                } finally {
                setLoading(false);
                }
            };

            const parseCSV = (text) => {
                const lines = text.split(/\r\n|\n/);
                const parsed = [];
                for (let i = 1; i < lines.length; i++) {
                const line = lines[i].trim();
                if (!line) continue;
                const firstComma = line.indexOf(',');
                const secondComma = line.indexOf(',', firstComma + 1);
                if (firstComma === -1 || secondComma === -1) continue;
                const category = line.substring(0, firstComma).trim();
                const rawDate = line.substring(firstComma + 1, secondComma).trim();
                const summary = line.substring(secondComma + 1).trim();
                parsed.push({ category, rawDate, summary });
                }
                return parsed;
            };

            const processData = (rawData) => {
                const processed = rawData.map((item, index) => {
                // å¯¬å®¹çš„ Regex è§£ææ—¥æœŸ: /(\d{4})\D+(\d{1,2})\D+(\d{1,2})/ 
                const dateMatch = item.rawDate.match(/(\d{4})\D+(\d{1,2})\D+(\d{1,2})/);
                let year = 0, month = 0, day = 0;
                if (dateMatch) {
                    year = parseInt(dateMatch[1]);
                    month = parseInt(dateMatch[2]);
                    day = parseInt(dateMatch[3]);
                }
                return {
                    id: index,
                    category: item.category,
                    summary: item.summary,
                    originalDate: item.rawDate,
                    year,
                    month,
                    day
                };
                }).filter(item => item.year > 0);
                setEvents(processed);
            };

            const handleApplyFilter = () => {
                setAppliedCategory(inputCategory);
                setAppliedKeyword(inputKeyword);
            };

            // é‡è¨­åŠŸèƒ½
            const handleReset = () => {
                setSearchMode('onThisDay');
                const today = new Date();
                setSelectedMonth(today.getMonth() + 1);
                setSelectedDay(today.getDate());
                setSelectedYear(1945);

                setInputCategory('å…¨éƒ¨');
                setInputKeyword('');

                setAppliedCategory('å…¨éƒ¨');
                setAppliedKeyword('');
            };

            const categories = useMemo(() => {
                const cats = new Set(events.map(e => e.category).filter(Boolean));
                return ['å…¨éƒ¨', ...Array.from(cats)];
            }, [events]);

            const filteredEvents = useMemo(() => {
                return events.filter(event => {
                // 1. æ—¥æœŸéæ¿¾
                let dateMatch = true; 
                
                if (searchMode === 'onThisDay') {
                    dateMatch = event.month === parseInt(selectedMonth) && event.day === parseInt(selectedDay);
                } else if (searchMode === 'specificDate') {
                    dateMatch = event.year === parseInt(selectedYear) && 
                                event.month === parseInt(selectedMonth) && 
                                event.day === parseInt(selectedDay);
                }

                if (!dateMatch) return false;

                // 2. é¡åˆ¥éæ¿¾
                if (appliedCategory !== 'å…¨éƒ¨' && event.category !== appliedCategory) {
                    return false;
                }

                // 3. é—œéµå­—éæ¿¾
                if (appliedKeyword && !event.summary.includes(appliedKeyword)) {
                    return false;
                }

                return true;
                }).sort((a, b) => {
                if (a.year !== b.year) return a.year - b.year;
                if (a.month !== b.month) return a.month - b.month;
                return a.day - b.day;
                });
            }, [events, searchMode, selectedMonth, selectedDay, selectedYear, appliedCategory, appliedKeyword]);

            const years = Array.from({ length: 97 }, (_, i) => 1900 + i);
            const months = Array.from({ length: 12 }, (_, i) => i + 1);
            const days = Array.from({ length: 31 }, (_, i) => i + 1);

            const getResultTitle = () => {
                if (searchMode === 'keywordOnly') return 'å…¨åº«æœå°‹çµæœ';
                if (searchMode === 'onThisDay') return `æ¯å¹´ ${selectedMonth}æœˆ${selectedDay}æ—¥`;
                return `${selectedYear}å¹´ ${selectedMonth}æœˆ${selectedDay}æ—¥`;
            };

            return (
                <div className="min-h-screen bg-slate-50 text-slate-800 font-sans">
                {/* é ‚éƒ¨æ¨™é¡Œå€ */}
                <header className="bg-blue-900 text-white p-6 shadow-md">
                    <div className="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
                    <div>
                        <h1 className="text-3xl font-bold flex items-center gap-2">
                        <BookOpen className="w-8 h-8" />
                        ä¸­è¯æ°‘åœ‹å²äº‹æŸ¥è©¢ç³»çµ±
                        </h1>
                        <p className="text-blue-200 mt-2 text-sm leading-relaxed">
                        æŸ¥è©¢ 1900 - 1996 å¹´é–“çš„é‡è¦æ­·å²äº‹ä»¶ç´€éŒ„ï¼Œåƒ…ä¾›æª”æ¡ˆç®¡ç†å±€åŒä»å·¥ä½œä½¿ç”¨ By é»ƒå®‡æš˜ã€‚<br className="md:hidden" />
                        è³‡æ–™ä¾†æºï¼š<a href="https://twstudy.iis.sinica.edu.tw/" target="_blank" rel="noreferrer" className="underline hover:text-white transition-colors">ä¸­ç ”é™¢è‡ºç£ç ”ç©¶ç¶²è·¯åŒ–è¨ˆç•«</a>
                        </p>
                    </div>
                    
                    {/* ç‹€æ…‹é¡¯ç¤ºå€ */}
                    <div className="flex items-center gap-3 flex-shrink-0">
                        {loading ? (
                        <div className="flex items-center gap-2 bg-blue-800 px-4 py-2 rounded-lg border border-blue-700">
                            <div className="animate-spin w-4 h-4 border-2 border-blue-200 border-t-transparent rounded-full"></div>
                            <span className="text-sm text-blue-100">æ­£åœ¨ä¸‹è¼‰è³‡æ–™åº«...</span>
                        </div>
                        ) : error ? (
                        <div className="flex items-center gap-3 bg-red-900/50 px-4 py-2 rounded-lg border border-red-700">
                            <AlertCircle size={18} className="text-red-300" />
                            <span className="text-sm text-red-200">è®€å–å¤±æ•—: {error}</span>
                            <button 
                            onClick={fetchData}
                            className="bg-red-800 hover:bg-red-700 text-xs px-2 py-1 rounded transition"
                            >
                            é‡è©¦
                            </button>
                        </div>
                        ) : (
                        <div className="flex items-center gap-2 bg-green-900/30 px-4 py-2 rounded-lg border border-green-700/50">
                            <div className="w-2 h-2 rounded-full bg-green-400 shadow-[0_0_8px_rgba(74,222,128,0.6)]"></div>
                            <span className="text-sm text-green-100 font-medium">è³‡æ–™åº«é€£ç·šæ­£å¸¸ ({events.length} ç­†)</span>
                        </div>
                        )}
                    </div>
                    </div>
                </header>

                <main className="max-w-6xl mx-auto p-4 md:p-6">
                    {/* æ§åˆ¶é¢æ¿ */}
                    <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8">
                    <div className="grid grid-cols-1 lg:grid-cols-12 gap-8">
                        
                        {/* 1. æ¨¡å¼é¸æ“‡èˆ‡æ—¥æœŸè¨­å®š */}
                        <div className="lg:col-span-5 space-y-4 border-b lg:border-b-0 lg:border-r border-slate-100 pb-6 lg:pb-0 lg:pr-8">
                        <h3 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">æ­¥é©Ÿ 1: é¸æ“‡æª¢ç´¢æ¨¡å¼</h3>
                        
                        {/* æ¨¡å¼æŒ‰éˆ•ç¾¤çµ„ */}
                        <div className="flex flex-col gap-2 mb-4">
                            <div className="flex bg-slate-100 p-1 rounded-lg">
                            <button
                                onClick={() => setSearchMode('onThisDay')}
                                className={`flex-1 py-2 px-2 rounded-md text-xs sm:text-sm font-medium transition-all ${
                                searchMode === 'onThisDay' 
                                    ? 'bg-white text-blue-700 shadow-sm' 
                                    : 'text-slate-500 hover:text-slate-700'
                                }`}
                            >
                                ğŸ“… æ­·å²ä»Šå¤©
                            </button>
                            <button
                                onClick={() => setSearchMode('specificDate')}
                                className={`flex-1 py-2 px-2 rounded-md text-xs sm:text-sm font-medium transition-all ${
                                searchMode === 'specificDate' 
                                    ? 'bg-white text-blue-700 shadow-sm' 
                                    : 'text-slate-500 hover:text-slate-700'
                                }`}
                            >
                                ğŸ¯ ç‰¹å®šæ—¥æœŸ
                            </button>
                            <button
                                onClick={() => setSearchMode('keywordOnly')}
                                className={`flex-1 py-2 px-2 rounded-md text-xs sm:text-sm font-medium transition-all flex items-center justify-center gap-1 ${
                                searchMode === 'keywordOnly' 
                                    ? 'bg-white text-blue-700 shadow-sm' 
                                    : 'text-slate-500 hover:text-slate-700'
                                }`}
                            >
                                <Globe size={14} /> å…¨åº«æœå°‹
                            </button>
                            </div>
                        </div>

                        {/* æ—¥æœŸé¸æ“‡å™¨ */}
                        {searchMode !== 'keywordOnly' ? (
                            <div className="animate-in fade-in slide-in-from-top-2 duration-300">
                            <div className="flex flex-wrap gap-2 items-center">
                                {searchMode === 'specificDate' && (
                                <select 
                                    value={selectedYear} 
                                    onChange={(e) => setSelectedYear(e.target.value)}
                                    className="bg-white border border-slate-300 rounded-md px-3 py-2 text-lg font-medium text-blue-900 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                >
                                    {years.map(y => <option key={y} value={y}>{y} å¹´</option>)}
                                </select>
                                )}
                                
                                <div className="flex items-center gap-2">
                                <select 
                                    value={selectedMonth} 
                                    onChange={(e) => setSelectedMonth(e.target.value)}
                                    className="bg-white border border-slate-300 rounded-md px-3 py-2 text-lg font-medium text-blue-900 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                >
                                    {months.map(m => <option key={m} value={m}>{m} æœˆ</option>)}
                                </select>
                                <select 
                                    value={selectedDay} 
                                    onChange={(e) => setSelectedDay(e.target.value)}
                                    className="bg-white border border-slate-300 rounded-md px-3 py-2 text-lg font-medium text-blue-900 focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                >
                                    {days.map(d => <option key={d} value={d}>{d} æ—¥</option>)}
                                </select>
                                </div>
                            </div>
                            <div className="text-sm text-slate-500 mt-2 flex items-center gap-1">
                                <Clock size={14} />
                                è®Šæ›´æ—¥æœŸæœƒç«‹å³æ›´æ–°ä¸‹æ–¹åˆ—è¡¨
                            </div>
                            </div>
                        ) : (
                            <div className="bg-blue-50 border border-blue-100 rounded-lg p-4 text-sm text-blue-800 flex items-start gap-2 animate-in fade-in slide-in-from-top-2 duration-300">
                            <Search size={18} className="mt-0.5 flex-shrink-0" />
                            <div>
                                <p className="font-bold mb-1">å…¨åº«æœå°‹æ¨¡å¼</p>
                                <p>æ­¤æ¨¡å¼ä¸é™æ—¥æœŸï¼Œå°‡æœå°‹è³‡æ–™åº«ä¸­çš„æ‰€æœ‰äº‹ä»¶ã€‚</p>
                                <p className="mt-2 text-blue-600">è«‹åœ¨å³å´è¼¸å…¥é—œéµå­—ä¸¦æŒ‰ä¸‹ã€ŒåŸ·è¡Œç¯©é¸ã€ã€‚</p>
                            </div>
                            </div>
                        )}
                        </div>

                        {/* 2. éæ¿¾èˆ‡æœå°‹ */}
                        <div className="lg:col-span-7 space-y-4">
                        <h3 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">æ­¥é©Ÿ 2: æ¢ä»¶ç¯©é¸ (éœ€æŒ‰æŒ‰éˆ•)</h3>
                        
                        <div className={`bg-slate-50 p-4 rounded-lg border ${searchMode === 'keywordOnly' ? 'border-blue-300 ring-2 ring-blue-100' : 'border-slate-200'} transition-all`}>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label className="block text-xs font-semibold text-slate-500 mb-1">é¡åˆ¥</label>
                                <div className="relative">
                                <Filter className="absolute left-3 top-2.5 text-slate-400 w-4 h-4" />
                                <select
                                    value={inputCategory}
                                    onChange={(e) => setInputCategory(e.target.value)}
                                    className="w-full pl-9 pr-4 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none bg-white"
                                    disabled={!isDataLoaded}
                                >
                                    {categories.map(c => <option key={c} value={c}>{c}</option>)}
                                </select>
                                </div>
                            </div>

                            <div>
                                <label className="block text-xs font-semibold text-slate-500 mb-1">é—œéµå­—</label>
                                <div className="relative">
                                <Search className="absolute left-3 top-2.5 text-slate-400 w-4 h-4" />
                                <input
                                    type="text"
                                    placeholder={searchMode === 'keywordOnly' ? "è«‹è¼¸å…¥æœå°‹å…§å®¹..." : "è¼¸å…¥é—œéµå­—..."}
                                    value={inputKeyword}
                                    onChange={(e) => setInputKeyword(e.target.value)}
                                    onKeyDown={(e) => e.key === 'Enter' && handleApplyFilter()}
                                    className="w-full pl-9 pr-4 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                    disabled={!isDataLoaded}
                                    autoFocus={searchMode === 'keywordOnly'}
                                />
                                {inputKeyword && (
                                    <button 
                                    onClick={() => setInputKeyword('')}
                                    className="absolute right-3 top-2.5 text-slate-400 hover:text-slate-600"
                                    >
                                    <X className="w-4 h-4" />
                                    </button>
                                )}
                                </div>
                            </div>
                            </div>

                            <div className="flex justify-between items-center">
                            <div className="text-sm text-slate-600 hidden sm:block">
                                ç•¶å‰ç¯©é¸ï¼š
                                <span className="font-medium bg-white px-2 py-0.5 rounded border border-slate-200 mx-1">
                                {appliedCategory}
                                </span>
                                {appliedKeyword && (
                                <span className="font-medium bg-white px-2 py-0.5 rounded border border-slate-200 mx-1">
                                    "{appliedKeyword}"
                                </span>
                                )}
                            </div>
                            <div className="flex gap-2 ml-auto sm:ml-0">
                                <button 
                                onClick={handleReset}
                                className="px-4 py-2 bg-white border border-slate-300 rounded-md hover:bg-slate-100 text-slate-600 transition-all shadow-sm font-medium flex items-center gap-2"
                                title="é‡è¨­æ‰€æœ‰ç¯©é¸æ¢ä»¶èˆ‡æ—¥æœŸ"
                                >
                                <RotateCcw size={16} />
                                é‡è¨­
                                </button>
                                <button 
                                onClick={handleApplyFilter}
                                disabled={!isDataLoaded}
                                className={`
                                    px-6 py-2 rounded-md hover:bg-blue-700 active:scale-95 transition-all shadow-sm font-medium flex items-center gap-2 disabled:bg-slate-300 disabled:cursor-not-allowed
                                    ${searchMode === 'keywordOnly' ? 'bg-blue-700 text-white ring-2 ring-offset-2 ring-blue-500' : 'bg-blue-600 text-white'}
                                `}
                                >
                                <Search size={16} />
                                åŸ·è¡Œç¯©é¸
                                </button>
                            </div>
                            </div>
                        </div>
                        </div>

                    </div>
                    </div>

                    {/* çµæœåˆ—è¡¨ */}
                    {loading ? (
                    <div className="text-center py-20 text-slate-500">
                        <div className="animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"></div>
                        æ­£åœ¨åŒæ­¥æ­·å²è³‡æ–™åº«...
                    </div>
                    ) : error ? (
                    <div className="text-center py-20 bg-white rounded-xl border border-red-200 border-dashed">
                        <AlertCircle size={48} className="text-red-300 mx-auto mb-4" />
                        <h3 className="text-lg font-medium text-red-800">è³‡æ–™è¼‰å…¥ç™¼ç”ŸéŒ¯èª¤</h3>
                        <p className="text-red-600 mt-2 mb-4">{error}</p>
                        <button 
                        onClick={fetchData}
                        className="px-4 py-2 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition shadow-sm text-slate-700 flex items-center gap-2 mx-auto"
                        >
                        <RefreshCw size={16} /> é‡è©¦é€£ç·š
                        </button>
                    </div>
                    ) : (
                    <div className="space-y-4">
                        <h2 className="text-xl font-bold text-slate-700 mb-4 flex items-center justify-between">
                        <span className="flex items-center gap-2">
                            æŸ¥è©¢çµæœ 
                            <span className="text-base font-normal text-slate-500">
                            ({getResultTitle()})
                            </span>
                        </span>
                        <span className="text-sm font-normal bg-slate-200 text-slate-600 px-3 py-1 rounded-full">
                            å…±æ‰¾åˆ° {filteredEvents.length} ç­†è³‡æ–™
                        </span>
                        </h2>

                        {filteredEvents.length === 0 ? (
                        <div className="text-center py-20 bg-white rounded-xl border border-slate-200 border-dashed">
                            <div className="text-slate-300 mb-4 mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center">
                            <FileText size={32} />
                            </div>
                            <h3 className="text-lg font-medium text-slate-600">æ²’æœ‰æ‰¾åˆ°ç¬¦åˆçš„äº‹ä»¶</h3>
                            <p className="text-slate-400 mt-2">
                            {appliedCategory !== 'å…¨éƒ¨' || appliedKeyword 
                                ? "è«‹å˜—è©¦æ”¾å¯¬ç¯©é¸æ¢ä»¶æˆ–æ¸…é™¤é—œéµå­—" 
                                : "ç›®å‰æ¢ä»¶ä¸‹æ²’æœ‰ç¬¦åˆçš„è³‡æ–™"}
                            </p>
                        </div>
                        ) : (
                        <div className="grid gap-4">
                            {filteredEvents.map((event) => (
                            <div 
                                key={event.id} 
                                className="bg-white p-5 rounded-lg border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex flex-col md:flex-row gap-4 md:items-start group"
                            >
                                <div className="md:w-32 flex-shrink-0">
                                <div className="text-2xl font-bold text-blue-900 font-mono">
                                    {event.year}
                                </div>
                                <div className="text-sm text-slate-500 font-medium">
                                    {event.month}æœˆ {event.day}æ—¥
                                </div>
                                <div className={`mt-2 inline-block px-2 py-1 rounded text-xs font-semibold ${
                                    event.category.includes('æ”¿æ²»') ? 'bg-red-100 text-red-700' :
                                    event.category.includes('ç¤¾æœƒ') ? 'bg-green-100 text-green-700' :
                                    event.category.includes('åœ‹éš›') ? 'bg-indigo-100 text-indigo-700' :
                                    'bg-slate-100 text-slate-700'
                                }`}>
                                    {event.category}
                                </div>
                                </div>
                                
                                <div className="flex-1 pt-1">
                                <p className="text-slate-800 leading-relaxed text-lg group-hover:text-blue-900 transition-colors">
                                    {/* é—œéµå­—é«˜äº®é¡¯ç¤º */}
                                    {appliedKeyword ? (
                                    event.summary.split(appliedKeyword).map((part, i, arr) => (
                                        <React.Fragment key={i}>
                                        {part}
                                        {i < arr.length - 1 && <span className="bg-yellow-200 font-bold">{appliedKeyword}</span>}
                                        </React.Fragment>
                                    ))
                                    ) : (
                                    event.summary
                                    )}
                                </p>
                                </div>
                            </div>
                            ))}
                        </div>
                        )}
                    </div>
                    )}
                </main>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<HistoryApp />);
    </script>
</body>
</html>